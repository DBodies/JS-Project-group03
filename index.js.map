{"version":3,"file":"index.js","sources":["../src/js/reviews.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport Swiper from 'swiper';\nimport 'swiper/css';\n\nconst sliderPrev = document.querySelector('.slider-nav-prev');\nconst sliderNext = document.querySelector('.slider-nav-next');\n\nlet data;\n\nsliderPrev.disabled = true;\n\nsliderNext.addEventListener('click', () => {\n  swiper.slideNext();\n});\n\nsliderPrev.addEventListener('click', () => {\n  swiper.slidePrev();\n});\n\ndocument.addEventListener('keydown', function (event) {\n  if (event.key === 'ArrowLeft') {\n    swiper.slidePrev();\n  }\n  if (event.key === 'ArrowRight') {\n    swiper.slideNext();\n  }\n});\n\nfetchData();\n\nconst swiper = new Swiper('.swiper-container', {\n  //Курсор перетягування\n  grabCursor: true,\n\n  speed: 500,\n\n  // Default parameters\n  slidesPerView: 1,\n  spaceBetween: 16,\n  // Responsive breakpoints\n  breakpoints: {\n    // when window width is >= 375px\n    375: {\n      slidesPerView: 1,\n      spaceBetween: 16,\n    },\n    // when window width is >= 768px\n    768: {\n      slidesPerView: 2,\n      spaceBetween: 16,\n    },\n    // when window width is >= 1440px\n    1440: {\n      slidesPerView: 4,\n      spaceBetween: 16,\n    },\n  },\n  on: {\n    // Подія \"slideChange\" для контролю блокування кнопок\n    slideChange: function () {\n      sliderPrev.disabled = false;\n      sliderNext.disabled = false;\n\n      if (swiper.isEnd) {\n        sliderNext.disabled = true;\n      }\n\n      if (swiper.isBeginning) {\n        sliderPrev.disabled = true;\n      }\n    },\n  },\n});\n\nfunction renderItems(data) {\n  const slider = document.querySelector('.swiper-wrapper');\n  const markup = data\n    .map(\n      ({ author, avatar_url, review }) =>\n        `\n           <li class=\"swiper-slide slider-item\">\n                <img class=\"slider-item-img\" src=\"${avatar_url}\">\n                <p class=\"slider-item-title\">${author}</p>\n                <p class=\"slider-item-info\">${review}</p>\n            </li>             \n            `\n    )\n    .join('');\n\n  slider.insertAdjacentHTML('beforeend', markup);\n}\n\nfunction renderError() {\n  const slider = document.querySelector('.swiper-wrapper');\n  const markup = `\n  \n  <div class=\"slider-error\">\n    Not found!\n  </div>  \n  \n  `;\n\n  slider.insertAdjacentHTML('beforeend', markup);\n}\n\nasync function fetchData() {\n  try {   \n    debugger; \n    const response = await axios.get(\n      'https://portfolio-js.b.goit.study/api/reviews'\n    );\n    renderItems(response.data);    \n  } catch (error) {      \n    renderError();\n    sliderPrev.disabled = true;\n    sliderNext.disabled = true;\n    iziToast.error({\n      title: 'Error',\n      message: 'Something wrong, try again later!',\n    });\n  }\n}\n\n\n"],"names":["sliderPrev","sliderNext","swiper","event","fetchData","Swiper","renderItems","data","slider","markup","author","avatar_url","review","renderError","response","axios","iziToast"],"mappings":"owBAMA,MAAMA,EAAa,SAAS,cAAc,kBAAkB,EACtDC,EAAa,SAAS,cAAc,kBAAkB,EAI5DD,EAAW,SAAW,GAEtBC,EAAW,iBAAiB,QAAS,IAAM,CACzCC,EAAO,UAAS,CAClB,CAAC,EAEDF,EAAW,iBAAiB,QAAS,IAAM,CACzCE,EAAO,UAAS,CAClB,CAAC,EAED,SAAS,iBAAiB,UAAW,SAAUC,EAAO,CAChDA,EAAM,MAAQ,aAChBD,EAAO,UAAS,EAEdC,EAAM,MAAQ,cAChBD,EAAO,UAAS,CAEpB,CAAC,EAEDE,IAEA,MAAMF,EAAS,IAAIG,EAAO,oBAAqB,CAE7C,WAAY,GAEZ,MAAO,IAGP,cAAe,EACf,aAAc,GAEd,YAAa,CAEX,IAAK,CACH,cAAe,EACf,aAAc,EACf,EAED,IAAK,CACH,cAAe,EACf,aAAc,EACf,EAED,KAAM,CACJ,cAAe,EACf,aAAc,EACf,CACF,EACD,GAAI,CAEF,YAAa,UAAY,CACvBL,EAAW,SAAW,GACtBC,EAAW,SAAW,GAElBC,EAAO,QACTD,EAAW,SAAW,IAGpBC,EAAO,cACTF,EAAW,SAAW,GAEzB,CACF,CACH,CAAC,EAED,SAASM,EAAYC,EAAM,CACzB,MAAMC,EAAS,SAAS,cAAc,iBAAiB,EACjDC,EAASF,EACZ,IACC,CAAC,CAAE,OAAAG,EAAQ,WAAAC,EAAY,OAAAC,CAAQ,IAC7B;AAAA;AAAA,oDAE4CD,CAAU;AAAA,+CACfD,CAAM;AAAA,8CACPE,CAAM;AAAA;AAAA,aAG/C,EACA,KAAK,EAAE,EAEVJ,EAAO,mBAAmB,YAAaC,CAAM,CAC/C,CAEA,SAASI,GAAc,CACN,SAAS,cAAc,iBAAiB,EAShD,mBAAmB,YARX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAQ8B,CAC/C,CAEA,eAAeT,GAAY,CACzB,GAAI,CACF,SACA,MAAMU,EAAW,MAAMC,EAAM,IAC3B,+CACN,EACIT,EAAYQ,EAAS,IAAI,CAC1B,MAAe,CACdD,IACAb,EAAW,SAAW,GACtBC,EAAW,SAAW,GACtBe,EAAS,MAAM,CACb,MAAO,QACP,QAAS,mCACf,CAAK,CACF,CACH"}